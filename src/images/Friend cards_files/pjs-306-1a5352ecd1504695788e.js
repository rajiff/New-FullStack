webpackJsonp([306],{cOhK:function(e,t,o){"use strict";function n(e){return a.get("fba")&&(e.v2ActivateExperiment("unauth_desktop_show_google_one_tap_modal_in_log_out")||"").startsWith("enabled")}t.a=n;var a=o("FqaO"),i=o("ok+N")},fgGX:function(e,t,o){"use strict";var n=o("FqaO"),a={},i="disableUnauthGoogleOneTap";a.isGoogleOneTapDisabled=function(){return"1"===n.get("disableUnauthGoogleOneTap")||n.get("fba")},a.disableGoogleOneTapDialog=function(){n.set("disableUnauthGoogleOneTap","1",168)},t.a=a},gCNx:function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),o.d(t,"FacebookTwoTap",function(){return k});var c=o("d6ZO"),l=o.n(c),r=o("DUIN"),s=o("FqaO"),u=o("gVmS"),b=o("a993"),p=o("fgGX"),_=o("W/Cr"),d=o("IaRT"),h=o.n(d),f=o("cOhK"),g=o("6Jd8"),m=o("85jk"),T=o("MQ2h"),w=o.n(T),O=o("kzic"),E=o("gEaE"),k=function(e){function t(){var o,i,c;n(this,t);for(var l=arguments.length,r=Array(l),s=0;s<l;s++)r[s]=arguments[s];return o=i=a(this,e.call.apply(e,[this].concat(r))),i.state={shouldHideFacebookTwoTap:!1,marginRight:"-300px"},i.hideFBTwoTap=function(){i.setState({shouldHideFacebookTwoTap:!0});var e=i.props,t=e.container;"FB_AUTOLOGIN_AUTH_EXPIRED"===e.facebookAutoLoginStatus?Object(m.a)("web_fb_two_tap_v2.hide.user_cancel."+t):Object(m.a)("web_fb_two_tap_v1.hide.user_cancel."+t)},i.handleSocialConnectVerified=function(e,t,o){i.hideFBTwoTap(),i.props.onSocialConnectVerified&&i.props.onSocialConnectVerified(e,t,o)},i.handleFBEmailDeniedPerm=function(){i.hideFBTwoTap(),i.props.onFBEmailDeniedPerm&&i.props.onFBEmailDeniedPerm()},i.handlePostConnectClick=function(e){"FB_AUTOLOGIN_AUTH_EXPIRED"===i.props.facebookAutoLoginStatus?Object(m.a)("web_fb_two_tap_v2.fb_connect_button_click."+e):Object(m.a)("web_fb_two_tap_v1.fb_connect_button_click."+e),i.setState({shouldHideFacebookTwoTap:!0})},i.handlePostSuccessConnect=function(){"FB_AUTOLOGIN_AUTH_EXPIRED"===i.props.facebookAutoLoginStatus?Object(m.a)("web_fb_two_tap_v2.fb_connect_success"):Object(m.a)("web_fb_two_tap_v1.fb_connect_success")},c=o,a(i,c)}return i(t,e),t.prototype.componentDidMount=function e(){this.context.isBot||Object(m.a)("unauth_web_container."+u.a.FACEBOOK_TWO_TAP+"."+this.context.hybridTier+".other.shown")},t.prototype.getFBLoginInStatus=function e(t,o){return o?"fb_auto_disabled":"FB_AUTOLOGIN_AUTH_EXPIRED"===t||"FB_AUTOLOGIN_NOT_AUTHORIZED"===t?"fb_auto_"+t:"fb_auto_unknown"},t.prototype.getGoogleLoginInStatus=function e(t,o){return o?"google_auto_disabled":t?"google_auto_fail":"google_auto_unknown"},t.prototype.render=function e(){if(this.context.isBot)return null;var t=this.props,o=t.container,n=t.facebookAutoLoginStatus,a=t.googleOneTapFail,i=t.seoUnauthExperiments,c=this.state.shouldHideFacebookTwoTap,r=this.getFBLoginInStatus(n,!!s.get("fba")),d=this.getGoogleLoginInStatus(a,p.a.isGoogleOneTapDisabled()),h=this.state.marginRight,T="hide";return c?null:"FB_AUTOLOGIN_AUTH_EXPIRED"!==n||Object(f.a)(i)?(!a&&!p.a.isGoogleOneTapDisabled()||Object(f.a)(i)||!s.get("fba")&&("FB_AUTOLOGIN_NOT_AUTHORIZED"!==n||(i.v2ActivateExperiment("web_unauth_fb_2tap_hide")||"").startsWith("enabled_hide_v1_not_auth"))||(T="show",h="16px"),Object(m.a)("web_fb_two_tap_v1."+T+"."+r+"."+d+"."+o),l.a.createElement(E.b,{color:"white",direction:"column",display:"flex",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px 0 rgba(0, 0, 0, 0.1)",border:"solid 1px rgba(0, 0, 0, 0.04)",transition:"margin-right 250ms cubic-bezier(0.0,0.0,0.2,1)",marginRight:h,marginTop:this.props.isShowEUCookieBar?"52px":"16px",zIndex:"700"}},padding:4,position:"fixed",right:!0,shape:"rounded",width:300,top:!0},l.a.createElement(E.b,{display:"none"},""),l.a.createElement(E.b,null,l.a.createElement(E.b,null,l.a.createElement(E.J,{bold:!0,size:"xl"},_.a._("Sign in to Pinterest with Facebook","Sign up prompt on Facebook two tap"))),l.a.createElement(E.b,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:8,right:8}}},l.a.createElement(E.n,{accessibilityLabel:_.a._("Close","accessible label for close button"),alignSelf:"right",icon:"cancel",onClick:this.hideFBTwoTap,top:!0,size:"xs"}))),l.a.createElement(E.b,{marginTop:1},l.a.createElement(b.b,{container:u.a.FACEBOOK_TWO_TAP,buttonText:_.a._("Continue with Facebook","Button text on facebook connect button"),onFBEmailDeniedPerm:this.handleFBEmailDeniedPerm,onSocialConnectVerified:this.handleSocialConnectVerified,useGestaltTooltip:!0,handlePostConnectClick:this.handlePostConnectClick,handlePostSuccessConnect:this.handlePostSuccessConnect})),l.a.createElement(E.b,{marginTop:1},l.a.createElement(E.J,{align:"center",padding:10,size:"md"},l.a.createElement(g.a,{dark:!0,large:!0,noContainer:!0}))))):(Object(m.a)("web_fb_two_tap_v2.show."+r+"."+d+"."+o),l.a.createElement(E.b,{height:"100%",width:"100%",display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.5)",WebkitBackfaceVisibility:"hidden",bottom:"0px",justifyContent:"center",position:"fixed",zIndex:"10001"}}},l.a.createElement(E.b,{display:"none"},""),l.a.createElement(E.b,{color:"white",padding:8,shape:"rounded",width:"332px"},l.a.createElement(E.b,{dangerouslySetInlineStyle:{__style:{fontSize:"24px",fontWeight:"bold",fontFamily:"HelveticaNeue",fontStyle:"normal",fontStretch:"normal",lineHeight:"1.17",letterSpacing:"-0.3px",justifySelf:"center",color:"#333"}}},_.a._("We’ve missed you!","title of a popup modal which contains a facebook login in button and a not now button")),l.a.createElement(E.b,{marginTop:2},l.a.createElement(E.J,{size:"lg",overflow:"normal"},_.a._("It’s been too long since the last time you linked your Facebook account to use Pinterest. Click below to start the reunion.","Description text on a popup modal which contains a facebook login in button and a not now button"))),l.a.createElement(E.b,{marginTop:3},l.a.createElement(b.b,{container:u.a.FACEBOOK_TWO_TAP,buttonText:_.a._("Login with Facebook","Button text on facebook connect button"),onFBEmailDeniedPerm:this.handleFBEmailDeniedPerm,onSocialConnectVerified:this.handleSocialConnectVerified,useGestaltTooltip:!0,handlePostConnectClick:this.handlePostConnectClick,type:"continue"})),l.a.createElement(E.b,{marginTop:1},l.a.createElement(E.c,{text:_.a._("Not now","Button text of a dismiss button on a popup modal which also contains a facebook connect button"),onClick:this.hideFBTwoTap,dangerouslySetInlineStyle:{__style:{color:"rgba(0, 132, 255, 0)",borderRadius:"4px",border:"solid 4px"}}})))))},t}(c.Component),y=function e(t){return{googleOneTapFail:t.googleOneTap.googleOneTapFail,facebookAutoLoginStatus:t.facebookAutoLogin.facebookAutoLoginStatus,isShowEUCookieBar:t.euCookieBar.isShowEUCookieBar}};k.contextTypes={isBot:h.a.bool,hybridTier:h.a.string,cookies:h.a.object.isRequired},t.default=Object(T.compose)(O.withRouter,Object(r.connect)(y))(k)}});