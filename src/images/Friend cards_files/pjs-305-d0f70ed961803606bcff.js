webpackJsonp([305],{EUro:function(e,t,n){"use strict";function o(){return{type:"GOOGLE_ONE_TAP_FAILED",payload:{}}}function i(e,t){return e.useGoogleCopy?m.a.createElement("div",{style:L.googleTOSContainer},m.a.createElement(O.a,{unsafeCSS:v}),m.a.createElement("span",{style:L.googleTOSText},m.a.createElement("span",{dangerouslySetInnerHTML:{__html:C()}}))):m.a.createElement("div",{style:L.pinterestTOSContainer},m.a.createElement("span",{style:L.pinterestTOSText},m.a.createElement("span",{dangerouslySetInnerHTML:{__html:A(t.country)}})))}function a(e){var t=e.credentialsPlaceholderHeight,n=Object.assign({},U.placeholderWrapper,{height:P(t-N)}),o=Object.assign({},U.contentWrapper,{top:P(t-k)});return m.a.createElement("div",null,m.a.createElement("div",{style:n}),m.a.createElement("div",{style:o},m.a.createElement("div",{style:U.textWrapper},m.a.createElement(x.J,{align:"center",size:"md"},m.a.createElement(I,{dark:!0,noContainer:!0,disableWordBreak:!0})))))}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=n("d6ZO"),m=n.n(f),_=n("DUIN"),y=n("BAXv"),S=n("gVmS"),E=n("5tOk"),T=n("W/Cr"),O=n("1lmp"),b=n("IaRT"),w=n.n(b),L={googleTOSContainer:{hyphens:"none"},googleTOSText:{fontWeight:"normal",textAlign:"left",color:"#757575",fontSize:"12px",fontFamily:"'Roboto',sans-serif",display:"block",width:"100%"},pinterestTOSContainer:{hyphens:"none"},pinterestTOSText:{fontSize:"11px",fontWeight:"normal",textAlign:"center",color:"#aaa",width:"224px"}},v="\n  .googleTOSLink {\n    color: #4285f4;\n    cursor: pointer;\n    text-decoration: underline;\n  }\n",C=function e(){var t=window&&window.location&&window.location.hostname||"Pinterest";return E.c(T.a._('To create your account, Google will share your name, email address, and profile picture with {{ domain }}. By continuing, you agree to {{ domain }}\'s <a href="{{ privacy_policy_url }}">privacy policy</a> and <a href="{{ tos_url }}">terms of service</a>.',"Short statement shown before a user signs up using their Google account that explains which permissions the user will be granting Pinterest. This statement is followed by our privacy policy and terms of service disclosure"),{domain:t,tos_url:y.a.GEN.templateConst.settings.ABOUT_TERMS_PLAIN_URL+'" class="googleTOSLink',privacy_policy_url:y.a.GEN.templateConst.settings.ABOUT_PRIVACY_PLAIN_URL+'" class="googleTOSLink'})},A=function e(t){return y.a.GEN.templateConst.settings.EU_COUNTRIES.indexOf(t)>-1?E.c(T.a._('By continuing with the account that you select above, you agree to Pinterest\'s <a href="{{ tos_url }}">Terms of Service</a>, <a href="{{ privacy_policy_url }}">Privacy Policy</a> and <a href="{{ cookie_url }}"> Cookie use</a>.'),{tos_url:y.a.GEN.templateConst.settings.ABOUT_TERMS_PLAIN_URL,privacy_policy_url:y.a.GEN.templateConst.settings.ABOUT_PRIVACY_PLAIN_URL,cookie_url:y.a.GEN.templateConst.settings.ABOUT_COOKIE_URL}):E.c(T.a._('By continuing with the account that you select above, you agree to Pinterest\'s <a data-test-id="tos" href="{{ tos_url }}" target="_blank" >Terms of Service</a> and <a data-test-id="privacy" href="{{ privacy_policy_url }}" target="_blank">Privacy Policy</a>'),{tos_url:y.a.GEN.templateConst.settings.ABOUT_TERMS_PLAIN_URL,privacy_policy_url:y.a.GEN.templateConst.settings.ABOUT_PRIVACY_PLAIN_URL})};i.contextTypes={country:w.a.string.isRequired};var I=i,x=n("gEaE"),G=378,k=4,N=20,R=20,P=function e(t){return t+"px"},U={placeholderWrapper:{background:"#fff",textAlign:"center",position:"fixed",width:P(378),right:P(20),top:P(N)},contentWrapper:{zIndex:"10000",background:"#fff",textAlign:"center",position:"fixed",borderRadius:"0px 0px 3px 3px",boxShadow:"0 2px 2px rgba(0,0,0,.12)",width:P(378),right:P(20)},textWrapper:{margin:"4px 30px 6px"},googleTextWrapper:{padding:"0px 24px 9px",fontFamily:"'Roboto',sans-serif"}},D=n("fgGX"),j=n("5JMz"),F=n("Wcb7"),W=n("cOhK"),B=n("85jk"),M=n("SCJe"),q=n("Kqaz"),H=n("MQ2h"),z=n.n(H),J=n("FGUD"),Y=n("+B8E"),V=n("kzic"),Q=n("OIxG"),X=function e(t){return t+"px"},Z=function(e){function t(){var n,o,i;r(this,t);for(var a=arguments.length,c=Array(a),s=0;s<a;s++)c[s]=arguments[s];return n=o=l(this,e.call.apply(e,[this].concat(c))),o.state={animationMinHeight:-1,showRegisterRequestLoading:!1},o.mountStyle=function(){return o.setState({showRegisterRequestLoading:!0})},o.handleLoginButtonClick=function(e){var t=e.event;Object(B.a)("unauth.google_one_tap.confirmation_dialog."+o.props.loggingId+".login_click"),o.clearDelayedSignupTimeout(),t&&(t.preventDefault(),t.stopPropagation()),o.props.handleLogin()},i=n,l(o,i)}return c(t,e),t.prototype.componentDidMount=function e(){var t=this,n=1e3*this.props.signupDelay;this.delayedSignupTimeoutId=window.setTimeout(function(){Object(B.a)("unauth.google_one_tap.confirmation_dialog."+t.props.loggingId+".signup_delay_timer_reached"),t.requestAnimationFrameId=window.requestAnimationFrame(t.mountStyle),t.props.handleSignup()},n)},t.prototype.componentWillUnmount=function e(){this.clearDelayedSignupTimeout(),this.cancelAnimationFrame()},t.prototype.clearDelayedSignupTimeout=function e(){this.delayedSignupTimeoutId&&window.clearTimeout(this.delayedSignupTimeoutId)},t.prototype.cancelAnimationFrame=function e(){this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)},t.prototype.render=function e(){var t=this,n=this.state,o=n.animationMinHeight,i=n.showRegisterRequestLoading,a={transitionProperty:"min-height",transitionDuration:"500ms",transitionTimingFunction:"ease-in-out"};if(o>=0){var r=o;i&&(r=0),Object.assign(a,{minHeight:X(r)})}return m.a.createElement("div",{style:a,ref:function e(n){!n||t.state.showRegisterRequestLoading||t.state.animationMinHeight>0||t.setState({animationMinHeight:n.clientHeight})}},m.a.createElement(x.b,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:"center"},m.a.createElement(x.b,null,m.a.createElement(x.J,{bold:!0,size:"xl",align:"center"},i?T.a._("Finishing up...","Title of a dialog telling the user that an account is almost done being created."):T.a._("Creating your account...","Title of a dialog telling the user that an account is being created."))),m.a.createElement(x.b,{paddingY:4},m.a.createElement(x.F,{accessibilityLabel:T.a._("Account is being created","Accessibility label for account creation loading dialog"),paddingY:2,show:!0})),i?null:m.a.createElement(x.b,{marginTop:2},m.a.createElement(x.J,{inline:!0,align:"center",size:"md"},T.a._("Didnâ€™t mean to create a new account?","Description text telling the user that they can log in if they did not intend to create a new account"))),i?null:m.a.createElement(x.b,null,m.a.createElement(x.J,{inline:!0,align:"center",size:"md"},m.a.createElement(x.s,{inline:!0,bold:!0,href:"/login",onClick:this.handleLoginButtonClick},T.a._("Click here to log in.","Login button which will show the login modal and enable the user to log in"))))))},t}(f.Component),K=n("sXYb"),$=n("6Jd8"),ee={modalOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px"},staticContinueButtonLoginLink:{cursor:"pointer",fontWeight:"normal"}},te={DELAYED_SIGNUP_LOADING_SPINNER:"delayedSignupLoadingSpinner",STATIC_SIGNUP_LOGIN:"staticSignupLogin",STATIC_SIGNUP_LOGIN_WITH_TOS:"staticSignupLoginWithTOS"},ne=function(e){function t(){var n,o,i;s(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=p(this,e.call.apply(e,[this].concat(r))),o.handleCancelClick=function(){o.trackScopedAction("cancel.click"),o.props.handleCancelClick()},o.handleConfirmSignup=function(){o.trackScopedAction("confirm.click"),o.props.handleConfirmSignup(!1)},o.handleConfirmSignupWithSpinner=function(){o.trackScopedAction("confirm.click"),o.props.handleConfirmSignup(!0)},o.handleShowLogin=function(){o.trackScopedAction("login.click"),o.props.handleShowLogin()},i=n,p(o,i)}return u(t,e),t.prototype.componentDidMount=function e(){this.props.contextLog(120,{viewParameter:3202}),this.disableBackgroundScrolling(),this.trackScopedAction("shown")},t.prototype.componentWillUnmount=function e(){this.enableBackgroundScrolling()},t.prototype.trackScopedAction=function e(t){Object(B.a)("unauth.google_one_tap.confirmation_dialog."+this.props.step+"."+t)},t.prototype.disableBackgroundScrolling=function e(){document.body&&(document.body.style.overflow="hidden")},t.prototype.enableBackgroundScrolling=function e(){document.body&&(document.body.style.overflow="")},t.prototype.newStrings=function e(){var t=T.a._("Create a new account","Title of a dialog telling the user will create an account if they click the `continue` button below"),n=T.a._("Weâ€™re almost done creating your Pinterest accountâ€”but if you already have one, itâ€™s not too late to <b>log in here.</b>","Clickable text which will stop a new account from being created and display the login form"),o=T.a._("Continue","Text on a button which will create an account when clicked"),i=T.a._("Finishing up...","Title of a dialog telling the user that an account is almost done being created."),a=T.a._("Creating your account...","Title of a dialog telling the user that an account is being created."),r=T.a._("Account is being created","Accessibility label for account creation loading dialog"),l=T.a._("Didnâ€™t mean to create a new account?","Description text telling the user that they can log in if they did not intend to create a new account"),c=T.a._("Click here to log in.","Login button which will show the login modal and enable the user to log in")},t.prototype.renderDelayedSignupConfirmation=function e(t){var n=this;return m.a.createElement(Z,{signupDelay:t,handleLogin:this.handleShowLogin,handleSignup:function e(){n.handleConfirmSignup()},loggingId:te.DELAYED_SIGNUP_LOADING_SPINNER})},t.prototype.renderContentInModalContainer=function e(t){var n=null;return n="top"===this.props.layoutStyle?m.a.createElement(x.b,{color:"white",direction:"column",display:"flex",margin:6,padding:7,position:"fixed",right:!0,shape:"rounded",top:!0,width:376},this.props.loading?m.a.createElement(K.a,null):null,t):m.a.createElement(x.b,{bottom:!0,color:"white",direction:"column",display:"flex",height:168,padding:7,position:"fixed",width:"100%"},this.props.loading?m.a.createElement(K.a,null):null,t),m.a.createElement("div",{style:ee.modalOverlay},n)},t.prototype.renderStaticSignupLoginConfirmation=function e(t){return m.a.createElement(x.b,null,m.a.createElement(x.b,{display:"inlineBlock",position:"absolute",top:!0,right:!0,marginTop:2,marginRight:2},m.a.createElement(x.n,{accessibilityLabel:T.a._("Cancel","Button to close the signup/login modal"),icon:"cancel",onClick:this.handleCancelClick,size:"sm"})),m.a.createElement(x.J,{align:"left",size:"xl",bold:!0},T.a._("Continue to Pinterest","Title of a dialog telling enabling the user to continue with sign up or log in")),m.a.createElement(x.b,{marginTop:2},m.a.createElement(x.J,{align:"left",size:"md"},T.a._("Selecting sign up will create a new accountâ€”so if you already have one, log in instead.","Description text of a dialog which allows a user to sign up or log in"))),m.a.createElement(x.b,{marginTop:5},m.a.createElement(x.c,{color:"red",onClick:this.handleConfirmSignupWithSpinner,text:T.a._("Sign up","Text on a button which will create an account when clicked")})),m.a.createElement(x.b,{marginTop:2},m.a.createElement(x.c,{color:"gray",onClick:this.handleShowLogin,text:T.a._("Log in","Text on a button which will take the user to login when clicked")})),t?m.a.createElement(x.b,{marginTop:4,marginLeft:4,marginRight:4},m.a.createElement($.a,{dark:!0})):null)},t.prototype.render=function e(){var t=void 0;return this.props.step===te.DELAYED_SIGNUP_LOADING_SPINNER?t=this.renderDelayedSignupConfirmation(this.props.delayedSignupLoadingSpinnerDuration):this.props.step===te.STATIC_SIGNUP_LOGIN?t=this.renderStaticSignupLoginConfirmation(!1):this.props.step===te.STATIC_SIGNUP_LOGIN_WITH_TOS&&(t=this.renderStaticSignupLoginConfirmation(!0)),this.renderContentInModalContainer(t)},t}(f.Component),oe=Object(q.a)(ne),ie=n("ok+N"),ae="IFRAME[src*='smartlock']",re=250,le="DISPLAY_RP_TOS",ce=function e(){return new Promise(function(e,t){if("undefined"!=typeof window)var n=setInterval(function(){var t=window.document.querySelector("IFRAME[src*='smartlock']");t&&t.style&&t.style.height&&(clearInterval(n),e(t))},250);else t()})},se=function e(){return new Promise(function(e,t){ce().then(function(t){t.style.bottom="70px",e(t.getBoundingClientRect().bottom,t.style.top,t.style.bottom)},function(){t()})})},pe=function e(){return"undefined"!=typeof window&&window.GOOGLE_ONETAP_EXPERIMENTAL_FEATURES&&window.GOOGLE_ONETAP_EXPERIMENTAL_FEATURES.includes("DISPLAY_RP_TOS")},ue=n("OfNO"),ge={USER_CANCELED:"userCanceled",NO_CREDENTIALS_AVAILABLE:"noCredentialsAvailable",REQUEST_FAILED:"requestFailed",OPERATION_CANCELED:"operationCanceled",ILLEGAL_CONCURRENT_REQUEST:"illegalConcurrentRequest",INITIALIZATION_ERROR:"initializationError",CONFIGURATION_ERROR:"configurationError"},de=function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)return null;var o={supportedAuthMethods:["https://accounts.google.com"],supportedIdTokenProviders:[{uri:"https://accounts.google.com",clientId:ue.a.settings.GPLUS_CLIENT_ID}],context:"continue"};return n?t.hint(o):t.retrieve(o)},he=function e(t){t&&t.cancelLastOperation&&t.cancelLastOperation().then(function(){})},fe=void 0,me=n("+QQJ"),_e=2,ye=Object.freeze({RETRIEVE:"retrieve",HINT:"hint"}),Se=["US","CA","NZ","AU"],Ee=function(e){function t(n){g(this,t);var i=d(this,e.call(this,n));return i.onRetrieveCredentialsSuccess=function(e,t){D.a.disableGoogleOneTapDialog(),i.showLoading(),i.trackGoogleOneTapAction(t+".success");var n={google_open_id_token:e.idToken};i.login(n,{container:"googleOneTap"}).then(function(e){i.onLoginSuccess(e)},function(e){i.onLoginFailure(n,t,e)}),i.contextLogSignupLoginEvent(7534)},i.onRetrieveCredentialsFailure=function(e,t){var n=e&&e.type||"unknown";i.trackGoogleOneTapAction(t+".error."+n)},i.onLoginSuccess=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.trackGoogleOneTapAction("hint.login.success"),i.contextLogSignupLoginEvent(7536),F.b.handleRedirectWithFallbackWindowLocation(null,!0)},i.onLoginFailure=function(e,t,n){var o=i.context.userAgent.isMobile,a=i.props,r=a.handleLoginError,l=a.handle2FALogin;i.hideLoading();var c=n&&n.api_error_code||0;if(i.trackGoogleOneTapAction("hint.login.error."+c),i.contextLogSignupLoginEvent(7535),c===y.a.LOGIN_USER_NOT_FOUND)i.showConfirmationDialog(e,t);else if(c===y.a.LOGIN_MFA_REQUIRED){if(o)return void Object(J.a)(T.a._("Looks like you have 2FA enabled. Try again from our home page!"),"/login/");l({gplus_id_token:e.google_open_id_token})}else{var s=null,p="";o?(p=T.a._("Oops! We couldnâ€™t log you in with that account. Try again from our home page."),s=y.a.GEN.templateConst.settings.LOGIN_URL):p=T.a._("We couldnâ€™t log you in with that account. Try the Google button!"),Object(J.a)(p,s),r(n)}},i.onSignupSuccess=function(e){i.trackGoogleOneTapAction("hint.signup.success"),i.contextLogSignupLoginEvent(7487),F.b.handleSignupRedirect("/")},i.onSignupFailure=function(e){var t=i.context.userAgent.isMobile,n=e&&e.api_error_code||0;i.trackGoogleOneTapAction("hint.signup.error."+n),i.contextLogSignupLoginEvent(7488),i.hideLoading(),i.hideConfirmationDialog();var o=null,a="";t?(a=T.a._("Oops! We couldnâ€™t sign you up with that account. Try again from our home page."),o="/login/"):a=T.a._("We couldnâ€™t sign you up with that account. Try the Google button!"),Object(J.a)(a,o),i.props.handleSignupError()},i.trackGoogleOneTapAction=function(e){Object(B.a)("unauth.google_one_tap."+e)},i.shouldUseMediatedAuthentication=function(){return!D.a.isGoogleOneTapDisabled()},i.showInlineTermsOfService=function(){i.setState({showInlineTermsOfService:!0})},i.hideInlineTermsOfService=function(){i.setState({showInlineTermsOfService:!1})},i.attemptCredentialAuthentication=function(e,t,n){i.trackGoogleOneTapAction("request_credentials."+t),setTimeout(function(){de(e,n).then(function(e){i.hideInlineTermsOfService(),i.onRetrieveCredentialsSuccess(e,t)}).catch(function(a){i.onRetrieveCredentialsFailure(a,t);var r=a&&a.type||"";if(n||r===ge.USER_CANCELED)return i.hideInlineTermsOfService(),i.props.handleEmptyCredentials&&i.props.handleEmptyCredentials(),void(n&&r!==ge.USER_CANCELED&&i.props.dispatch(o()));r!==ge.OPERATION_CANCELED&&(i.shouldUseMediatedAuthentication()?i.attemptCredentialAuthentication(e,ye.HINT,!0):i.props.handleEmptyCredentials&&(i.hideInlineTermsOfService(),i.props.handleEmptyCredentials()))})},0),pe()||se().then(function(e){i.props.contextLog(120,{viewParameter:3201}),i.trackGoogleOneTapAction("iframe_shown_height_"+e+"_px"),i.showInlineTermsOfService(),i.setState({googleOneTapIframeBottomPos:e})})},i.handleCancelOneTap=function(){i.hideConfirmationDialog()},i.inMandatoryAgeStepENCountriesExperiment=function(){var e=i.props.seoUnauthExperiments,t=i.context.country;return Se.includes(t)&&(e.v2ActivateExperiment("web_unauth_mandatory_age_step_got_en")||"").startsWith("enabled")},i.attemptSignup=function(e){var t=i.context.country,n=i.props,o=n.handleSignupConfirmed,a=n.requestContext,r=n.showRegisterLoadingScreen;e&&i.showLoading();var l=i.state.googleOpenId,c=i.decodeToken(l),s={google_open_id_token:l,first_name:c.given_name,last_name:c.family_name,image_url:c.picture,container:S.a.GOOGLE_ONE_TAP,hybridTier:i.context.hybridTier,page:i.context.pageType};if(o&&(Object(me.d)(t)||i.inMandatoryAgeStepENCountriesExperiment()))o(me.a.GOOGLE_ONE_TAP,{},s);else{var p=new Y.c(a,"web_unauth_google_one_tap_welcome").enabled();a.experiments._queuedResource&&a.experiments._queuedResource.flush(),r&&p&&r(),M.a.register(s,i.props.seoUnauthExperiments).then(i.onSignupSuccess,i.onSignupFailure),i.contextLogSignupLoginEvent(7537)}},i.renderGoogleConfirmationDialog=function(e,t){return m.a.createElement(oe,{handleCancelClick:i.handleCancelOneTap,handleConfirmSignup:i.attemptSignup,handleShowLogin:i.props.handleShowLogin,layoutStyle:e,loading:i.state.loading,step:t,delayedSignupLoadingSpinnerDuration:_e})},i.state={googleOpenId:null,loading:!1,confirmationDialogStep:void 0,showInlineTermsOfService:!1,googleOneTapIframeBottomPos:-1},i}return h(t,e),t.prototype.componentDidMount=function e(){(!D.a.isGoogleOneTapDisabled()||!this.context.isBot&&Object(W.a)(this.props.seoUnauthExperiments))&&(this.setupGoogleOneTap(),this.context.isBot||Object(B.a)("unauth_web_container."+S.a.GOOGLE_ONE_TAP+"."+this.context.hybridTier+".other.shown"))},t.prototype.componentWillUnmount=function e(){he(window.smartlock)},t.prototype.setupGoogleOneTap=function e(){var t=this;this.context.isBot||(window.onSmartLockLoad=function(e){t.trackGoogleOneTapAction("setup.attempt");try{var n=window.openyolo;t.trackGoogleOneTapAction("open_yolo_load."+!!n),n.setProviderUrlBase("https://smartlock.google.com/iframe/request"),Object(W.a)(t.props.seoUnauthExperiments)?(t.trackGoogleOneTapAction("show_google_one_tap_in_log_out"),t.attemptCredentialAuthentication(e,ye.HINT,!0)):t.attemptCredentialAuthentication(e,ye.RETRIEVE,!1)}catch(e){var o=e&&e.name||"unknown";t.trackGoogleOneTapAction("setup.error."+o),t.props.handleEmptyCredentials&&t.props.handleEmptyCredentials()}},this.addGoogleOneTapScript())},t.prototype.contextLogSignupLoginEvent=function e(t){var n=this.props,o=n.contextLog,i=n.viewer;i.isAuth?o(t,{login_state:i.isLimitedLogin?2:1,signup_login_method:4}):o(t,{signup_login_method:4})},t.prototype.decodeToken=function e(t){return JSON.parse(window.atob(t.split(".")[1]))},t.prototype.login=function e(t){var n=this.props.seoUnauthExperiments,o={container:S.a.GOOGLE_ONE_TAP,hybridTier:this.context.hybridTier,page:this.context.pageType};return Object(j.a)(t,o,n)},t.prototype.showConfirmationDialog=function e(t,n){var o=this.props,i=o.container,a=o.seoUnauthExperiments,r="";r="InspiredWallSignup"===i?te.STATIC_SIGNUP_LOGIN:"login_page"===i?te.STATIC_SIGNUP_LOGIN_WITH_TOS:n===ye.RETRIEVE?(a.v2ActivateExperiment("unauth_desktop_force_tos_pp_on_static_confirmation_dialog")||"").startsWith("enabled")?te.STATIC_SIGNUP_LOGIN_WITH_TOS:te.STATIC_SIGNUP_LOGIN:te.DELAYED_SIGNUP_LOADING_SPINNER,this.setState({googleOpenId:t.google_open_id_token,confirmationDialogStep:r})},t.prototype.hideConfirmationDialog=function e(){this.setState({confirmationDialogStep:void 0})},t.prototype.showLoading=function e(){this.setState({loading:!0})},t.prototype.hideLoading=function e(){this.setState({loading:!1})},t.prototype.addGoogleOneTapScript=function e(){var t=document.createElement("script");t.src="https://smartlock.google.com/client?clientId="+y.a.GEN.templateConst.settings.GPLUS_CLIENT_ID,document.querySelector("head").appendChild(t)},t.prototype.render=function e(){var t=this.context,n=t.isBot,o=t.userAgent.isMobile;if(n)return null;this.inMandatoryAgeStepENCountriesExperiment();var i=this.state,r=i.confirmationDialogStep,l=i.showInlineTermsOfService,c=i.googleOneTapIframeBottomPos;if(r){var s=o?"bottom":"top";return this.renderGoogleConfirmationDialog(s,r)}return l?m.a.createElement(a,{credentialsPlaceholderHeight:c}):null},t}(f.Component),Te=function e(t){return{viewer:t.viewer}};Ee.contextTypes={country:w.a.string,isBot:w.a.bool,userAgent:w.a.shape({isMobile:w.a.bool.isRequired}).isRequired,hybridTier:w.a.string,pageType:w.a.string};var Oe=t.a=Object(H.compose)(Q.b,q.a,ie.b,V.withRouter,Object(_.connect)(Te))(Ee)},cOhK:function(e,t,n){"use strict";function o(e){return i.get("fba")&&(e.v2ActivateExperiment("unauth_desktop_show_google_one_tap_modal_in_log_out")||"").startsWith("enabled")}t.a=o;var i=n("FqaO"),a=n("ok+N")},fgGX:function(e,t,n){"use strict";var o=n("FqaO"),i={},a="disableUnauthGoogleOneTap";i.isGoogleOneTapDisabled=function(){return"1"===o.get("disableUnauthGoogleOneTap")||o.get("fba")},i.disableGoogleOneTapDialog=function(){o.set("disableUnauthGoogleOneTap","1",168)},t.a=i},sIZ1:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=n("d6ZO"),l=n.n(r),c=n("EUro"),s=n("IaRT"),p=n.n(s),u=function(e){function t(){var n,a,r;o(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=i(this,e.call.apply(e,[this].concat(c))),a.state={showGoogleOneTap:!0},a.hide=function(){a.setState({showGoogleOneTap:!1})},r=n,i(a,r)}return a(t,e),t.prototype.render=function e(){var t=this;return this.state.showGoogleOneTap?l.a.createElement(c.a,{container:this.props.container,handleEmptyCredentials:this.hide,handle2FALogin:function e(n){t.hide(),t.props.handleLoginWithMfa(n)},handleLoginError:function e(){t.hide(),t.props.handleLoginError()},handleSignupConfirmed:function e(n,o,i){t.hide(),t.props.handleSignupConfirmed(n,o,i)},handleSignupError:function e(){t.hide(),t.props.handleSignupError()},handleShowLogin:function e(){t.hide(),t.props.handleShowLogin()},showRegisterLoadingScreen:function e(){t.props.showRegisterLoadingScreen&&(t.hide(),t.props.showRegisterLoadingScreen())}}):null},t}(r.Component);t.default=u,u.defaultProps={container:"unknown"}}});